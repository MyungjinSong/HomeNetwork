<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<config>
    <webserver>
        <host>0.0.0.0</host>
        <port>1234</port>
        <log>1</log>
    </webserver>
    <rs485>
        <reconnect_limit>30</reconnect_limit>  <!-- 단위: 초 -->
        <port>
            <name>light</name>
            <index>0</index>
            <enable>1</enable>
            <hwtype>1</hwtype>  <!-- 0 = usb2serial, 1 = ew11 -->
            <packettype>0</packettype>  <!-- 0 = regular, 1 = subphone -->
            <usb2serial>
                <port>/dev/ttyUSB1</port>
                <baud>9600</baud>
                <databit>8</databit>
                <parity>N</parity>
                <stopbits>1</stopbits>
            </usb2serial>
            <ew11>
                <ipaddr>192.168.0.1</ipaddr>
                <port>8899</port>
            </ew11>
            <check>1</check>
            <buffsize>64</buffsize>
        </port>
        <port>
            <name>various</name>
            <index>1</index>
            <enable>1</enable>
            <hwtype>1</hwtype>  <!-- 0 = usb2serial, 1 = ew11 -->
            <packettype>0</packettype>  <!-- 0 = regular, 1 = subphone -->
            <usb2serial>
                <port>/dev/ttyUSB0</port>
                <baud>9600</baud>
                <databit>8</databit>
                <parity>N</parity>
                <stopbits>1</stopbits>
            </usb2serial>
            <ew11>
                <ipaddr>192.168.0.2</ipaddr>
                <port>8899</port>
            </ew11>
            <check>1</check>
            <buffsize>64</buffsize>
        </port>
        <port>
            <name>subphone</name>
            <index>2</index>
            <enable>1</enable>
            <hwtype>0</hwtype>  <!-- 0 = usb2serial, 1 = ew11 -->
            <packettype>1</packettype>  <!-- 0 = regular, 1 = subphone -->
            <usb2serial>
                <port>/dev/ttyUSB0</port>
                <baud>3840</baud>
                <databit>8</databit>
                <parity>E</parity>
                <stopbits>1</stopbits>
            </usb2serial>
            <ew11>
                <ipaddr>192.168.0.1</ipaddr>
                <port>8899</port>
            </ew11>
            <check>0</check>
            <buffsize>32</buffsize>
        </port>
    </rs485>
    <mqtt>
        <host>mosquitto ip address</host>
        <port>1883</port>
        <username>mosquitto auth id</username>
        <password>mosquitto auth password</password>
        <console_log>0</console_log>
        <verbose_regular_publish>
            <enable>1</enable>
            <interval>100</interval>
        </verbose_regular_publish>
    </mqtt>
    <device>
        <parser_mapping>
            <light>0</light>
            <outlet>0</outlet>
            <gasvalve>1</gasvalve>
            <thermostat>1</thermostat>
            <ventilator>1</ventilator>
            <airconditioner>1</airconditioner>
            <elevator>1</elevator>
            <subphone>2</subphone>
            <batchoffsw>1</batchoffsw>
            <!-- <doorlock>0</doorlock> -->
        </parser_mapping>
    </device>
    <rooms>
        <room1>
            <name>Livingroom</name>
            <index>1</index>
            <lights>
                <light1>
                    <name>ceil 1</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/1/1</publish>
                        <subscribe>home/hillstate/light/command/1/1</subscribe>
                    </mqtt>
                </light1>
                <light2>
                    <name>ceil 2</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/1/2</publish>
                        <subscribe>home/hillstate/light/command/1/2</subscribe>
                    </mqtt>
                </light2>
                <light3>
                    <name>hallway</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/1/3</publish>
                        <subscribe>home/hillstate/light/command/1/3</subscribe>
                    </mqtt>
                </light3>
            </lights>
            <outlets>
                <outlet1>
                    <name>outlet 1</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/1/1</publish>
                        <subscribe>home/hillstate/outlet/command/1/1</subscribe>
                    </mqtt>
                </outlet1>
                <outlet2>
                    <name>outlet 2</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/1/2</publish>
                        <subscribe>home/hillstate/outlet/command/1/2</subscribe>
                    </mqtt>
                </outlet2>
            </outlets>
            <thermostat>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/thermostat/state/1</publish>
                    <subscribe>home/hillstate/thermostat/command/1</subscribe>
                </mqtt>
            </thermostat>
            <airconditioner>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/airconditioner/state/1</publish>
                    <subscribe>home/hillstate/airconditioner/command/1</subscribe>
                </mqtt>
            </airconditioner>
        </room1>
        <room2>
            <name>Bedroom</name>
            <index>2</index>
            <lights>
                <light1>
                    <name>ceil</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/2/1</publish>
                        <subscribe>home/hillstate/light/command/2/1</subscribe>
                    </mqtt>
                </light1>
                <light2>
                    <name>outdoor unit room</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/2/2</publish>
                        <subscribe>home/hillstate/light/command/2/2</subscribe>
                    </mqtt>
                </light2>
            </lights>
            <outlets>
                <outlet1>
                    <name>outlet 1</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/2/1</publish>
                        <subscribe>home/hillstate/outlet/command/2/1</subscribe>
                    </mqtt>
                </outlet1>
                <outlet2>
                    <name>outlet 2</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/2/2</publish>
                        <subscribe>home/hillstate/outlet/command/2/2</subscribe>
                    </mqtt>
                </outlet2>
            </outlets>
            <thermostat>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/thermostat/state/2</publish>
                    <subscribe>home/hillstate/thermostat/command/2</subscribe>
                </mqtt>
            </thermostat>
            <airconditioner>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/airconditioner/state/2</publish>
                    <subscribe>home/hillstate/airconditioner/command/2</subscribe>
                </mqtt>
            </airconditioner>
        </room2>
        <room3>
            <name>Library</name>
            <index>3</index>
            <lights>
                <light1>
                    <name>ceil</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/3/1</publish>
                        <subscribe>home/hillstate/light/command/3/1</subscribe>
                    </mqtt>
                </light1>
            </lights>
            <outlets>
                <outlet1>
                    <name>outlet 1</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/3/1</publish>
                        <subscribe>home/hillstate/outlet/command/3/1</subscribe>
                    </mqtt>
                </outlet1>
                <outlet2>
                    <name>outlet 2</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/3/2</publish>
                        <subscribe>home/hillstate/outlet/command/3/2</subscribe>
                    </mqtt>
                </outlet2>
            </outlets>
            <thermostat>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/thermostat/state/3</publish>
                    <subscribe>home/hillstate/thermostat/command/3</subscribe>
                </mqtt>
            </thermostat>
            <airconditioner>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/airconditioner/state/3</publish>
                    <subscribe>home/hillstate/airconditioner/command/3</subscribe>
                </mqtt>
            </airconditioner>
        </room3>
        <room4>
            <name>PC Room</name>
            <index>4</index>
            <lights>
                <light1>
                    <name>ceil</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/4/1</publish>
                        <subscribe>home/hillstate/light/command/4/1</subscribe>
                    </mqtt>
                </light1>
            </lights>
            <outlets>
                <outlet1>
                    <name>outlet 1</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/4/1</publish>
                        <subscribe>home/hillstate/outlet/command/4/1</subscribe>
                    </mqtt>
                </outlet1>
                <outlet2>
                    <name>outlet 2</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/4/2</publish>
                        <subscribe>home/hillstate/outlet/command/4/2</subscribe>
                    </mqtt>
                </outlet2>
            </outlets>
            <thermostat>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/thermostat/state/4</publish>
                    <subscribe>home/hillstate/thermostat/command/4</subscribe>
                </mqtt>
            </thermostat>
            <airconditioner>
                <exist>1</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/airconditioner/state/4</publish>
                    <subscribe>home/hillstate/airconditioner/command/4</subscribe>
                </mqtt>
            </airconditioner>
        </room4>
        <room6>
            <name>Kitchen</name>
            <index>6</index>
            <lights>
                <light1>
                    <name>table</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/6/1</publish>
                        <subscribe>home/hillstate/light/command/6/1</subscribe>
                    </mqtt>
                </light1>
                <light2>
                    <name>countertop</name>
                    <mqtt>
                        <publish>home/hillstate/light/state/6/2</publish>
                        <subscribe>home/hillstate/light/command/6/2</subscribe>
                    </mqtt>
                </light2>
            </lights>
            <outlets>
                <outlet1>
                    <name>outlet 1</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/6/1</publish>
                        <subscribe>home/hillstate/outlet/command/6/1</subscribe>
                    </mqtt>
                </outlet1>
                <outlet2>
                    <name>outlet 2</name>
                    <enable_off_cmd>0</enable_off_cmd>
                    <mqtt>
                        <publish>home/hillstate/outlet/state/6/2</publish>
                        <subscribe>home/hillstate/outlet/command/6/2</subscribe>
                    </mqtt>
                </outlet2>
            </outlets>
            <thermostat>
                <exist>0</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/thermostat/state/6</publish>
                    <subscribe>home/hillstate/thermostat/command/6</subscribe>
                </mqtt>
            </thermostat>
            <airconditioner>
                <exist>0</exist>
                <range_min>18</range_min>
                <range_max>35</range_max>
                <mqtt>
                    <publish>home/hillstate/airconditioner/state/6</publish>
                    <subscribe>home/hillstate/airconditioner/command/6</subscribe>
                </mqtt>
            </airconditioner>
        </room6>
    </rooms>
    <gasvalve>
        <mqtt>
            <publish>home/hillstate/gasvalve/state</publish>
            <subscribe>home/hillstate/gasvalve/command</subscribe>
        </mqtt>
    </gasvalve>
    <ventilator>
        <mqtt>
            <publish>home/hillstate/ventilator/state</publish>
            <subscribe>home/hillstate/ventilator/command</subscribe>
        </mqtt>
    </ventilator>
    <elevator>
        <mqtt>
            <publish>home/hillstate/elevator/state</publish>
            <subscribe>home/hillstate/elevator/command</subscribe>
        </mqtt>
    </elevator>
    <hems>
        <enable>1</enable>
        <mqtt>
            <publish>home/hillstate/hems/state</publish>
        </mqtt>
    </hems>
    <!--
    <doorlock>
        <enable>1</enable>
        <gpio>23</gpio>
        <mqtt>
            <publish>home/hillstate/doorlock/state</publish>
            <subscribe>home/hillstate/doorlock/command</subscribe>
        </mqtt>
    </doorlock>
    -->
    <subphone>
        <enable>1</enable>
        <mqtt>
            <publish>home/hillstate/subphone/state</publish>
            <subscribe>
                home/hillstate/subphone/command/streaming
                home/hillstate/subphone/command/doorlock
            </subscribe>
        </mqtt>
        <ffmpeg>
            <conf_file_path>/etc/ffserver_hillstate_door.conf</conf_file_path>
            <feed_path>http://0.0.0.0:8090/feed.ffm</feed_path>
            <input_device>/dev/video0</input_device>
            <frame_rate>30</frame_rate>
            <width>640</width>
            <height>480</height>
        </ffmpeg>
    </subphone>
    <thinq>
        <enable>1</enable>
        <refresh_token>your LGE refresh token</refresh_token>
        <api_key>VGhpblEyLjAgU0VSVklDRQ==</api_key>
        <api_client_id>c713ea8e50f657534ff8b9d373dfebfc2ed70b88285c26b8ade49868c0b164d9</api_client_id>
        <oauth_secret_key>c053c2a6ddeb7ad97cb0eed0dcb31cf8</oauth_secret_key>
        <app_client_id>LGAO221A02</app_client_id>
        <application_key>6V1V8H2BN5P9ZQGOI5DAQ92YZBDO3EK9</application_key>
        <country_code>KR</country_code>
        <language_code>ko-KR</language_code>
        <robot_cleaner>
            <dev_id>robot cleaner dev id</dev_id>
        </robot_cleaner>
        <mqtt>
            <publish>home/hillstate/thinq</publish>
            <log_message>0</log_message>
        </mqtt>
    </thinq>
    <airquality>
        <enable>1</enable>
        <apikey>Your API Key from data.go.kr</apikey>
        <obsname>수지</obsname>
        <mqtt>
            <publish>home/hillstate/airquality/state</publish>
            <subscribe>home/hillstate/airquality/command</subscribe>
        </mqtt>
    </airquality>
    <batchoffsw>
        <mqtt>
            <publish>home/hillstate/batchoffsw/state</publish>
            <subscribe>home/hillstate/batchoffsw/command</subscribe>
        </mqtt>
    </batchoffsw>
</config>
